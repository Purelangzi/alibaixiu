# 登录功能

1. 为登录按钮添加点击事件

2. 获取用户在文本框中输入的用户名和密码

3. 验证用户是否输入了用户名和密码，如果没有输入，阻止程序向下执行，提示用户输入用户名和密码

4. 调用实现登录功能的接口，登录成功，跳转到数据管理的首页，对用户角色进行判断，管理员跳转数据管理首页，普通用户跳转网站首页，登录失败，提示用户名或密码错误


# 登录拦截

1. 使用script标签加载服务器端提供的接口地址。

   因为ajax是异步的，不会阻止代码向下执行。所以用script标签同步加载内容是同步的，没加载完不会向下执行，达到阻止页面继续向下加载的效果，写在文件最上面。

2. 判断isLogin变量的值，如果值为false，跳转到登录页面


# 退出功能

1.点击退出按钮，调用实现退出功能的接口，实现退出。

2.如果退出成功跳转登录页面，如果失败，显示提示信息。



# 添加用户

1. 为添加用户功能的每一个表单项添加name属性，且name属性值需要和接口文档中要求的参数名称保持一致
2. 为表单绑定提交事件，在事件处理函数中阻止表单默认提交的行为
3. 在事件处理函数中获取到用户在表单中输入的内容
4. 调用添加用户接口，将获取到的内容通过接口发送给服务器端，操作成功刷新页面，操作失败给出用户提示



# 展示用户列表

1. 向服务器端发送Ajax请求，索要用户列表数据
2. 第二步，使用模板引擎将数据和html模板进行拼接
3. 第三步就是将拼接好的内容展示在页面中



# 用户头像上传

1. 为文件选择控件添加onchange事件，在事件处理函数中获取到用户选择到的文件
2. 创建formData对象用于实现图片文件上传
3. 调用图片文件上传接口，实现图片上传
4. 在添加新用户表单中新增一个隐藏域，将图片地址存储在隐藏域中



# 用户列表展示

1. 在页面加载时向服务器端发送Ajax请求，索要用户列表数据
2. 使用模板引擎将数据和html模板进行拼接
3. 将拼接好的内容展示在页面中



# 用户信息修改

1. 通过事件委托的形式为编辑按钮点击添加事件

   因为用户信息列表数据是使用Ajax技术从服务器端到客户端再显示到页面中，异步不能确定什么时候返回，所以用事件委托，因为元素的父级不是用js渲染的，一直在页面中。

2. 在事件处理函数中获取到当前点击用户的id值

   渲染用户列表时，将用户id值存储在编辑按钮的自定义属性上(data-id)。

3. 根据用户id获取用户的详细信息，并且通过模板引擎将用户的详细信息渲染到左侧的表单中

4. 为修改按钮添加点击事件，在事件处理函数中获取到用户在表单中输入的内容，调用修改用户信息接口实现用户信息修改功能，也使用事件委托，修改表单中隐藏域添加头像图片地址值，id存储在渲染用户修改信息表单自定义属性上。

   在修改页面中头像上传不起作用，因为页面中显示的文件选择控件是修改表单中的元素，是使用Js渲染到页面中的，所以文件选择控件没有onchange事件。将文件选择控件的o'nchange事件改成事件委托，无论是添加还是修改用户信息，都可以触发 。

   ​



# 删除用户

1. 为删除按钮添加点击事件，添加类名，用事件委托，id存储在自定义属性
2. 确认用户是否要进行删除操作
3. 获取到当前被点击用户的id
4. 调用删除用户接口根据id删除用户，如果删除成功，刷新当前页面，让页面显示最新的内容



# 批量删除用户

1. 管理复选框的选中状态
   1. 当全选按钮被选中时，所有用户要被选中，当全选按钮取消选中时，所有用户要被取消选中

   2. 当用户前面的复选框按钮状态被改变时，要检查是否有用户处于未选中状态，如果有，取消全选按钮的选中状态，如果没有，就意味着所有用户都处于选中状态，此时将全选按钮设置为选中状态。

      用户前面的复选框onchange事件用事件委托。

      获取所有用户 在所有用户中过滤出选中的用户

      判断选中用户的数量和所有用户的数量是否一致

      如果一致 说明所有用户的数量都是选中的

      否则就是有用户没有被选中

      ​
2. 管理批量删除按钮的状态
   1. 当全选按钮被选中时，显示批量删除按钮，当全选按钮被取消选中时，隐藏批量删除按钮
   2. 当用户前面的复选框按钮状态改变时，检查所有用户的选中状态，如果有用户被选中，显示批量删除按钮，如果所有用户都没有处于选中状态，隐藏批量删除按钮
3. 实现批量删除用户功能
   1. 批量删除按钮添加点击事件，在点击事件处理函数中，将所有被选中的用户id执行存储在一个数组中，用户Id值存储在复选框自定义属性
   2. 调用用删除用户接口，实现删除用户功能



# 修改密码

1. 为修改密码表单中的每一个表单项添加name属性，name属性的值要和接口中的参数名称保持一致
2. 为修改密码表单添加表单提交事件，在事件处理函数中，阻止表单的默认提交行为
3. 获取到用户在表单中输入的内容
4. 调用修改密码接口，实现密码修改功能，如果密码修改成功，跳转到登录页面，让用户重新登录



# 添加分类

1. 为表单中的每一个表单项添加name属性，name属性的值要和接口文档中要求的参数名称保持一致
2. 为表单添加表单提交事件，在事件处理函数中，阻止表单提交的默认行为
3. 获取到用户在表单中输入的内容
4. 调用分类添加接口，实现添加分类功能



# 分类数据展示

1. 向服务器端发送Ajax请求，索要分类页面数据
2. 使用模板引擎将服务器端返回的数据和HTML模板进行拼接
3. 将拼接好的内容展示在页面中



# 分类数据修改

1. 通过事件委托为编辑按钮添加点击事件，在事件处理函数中获取到要修改的分类数据id，id存储在渲染分类列表编辑按钮的自定义属性。
2. 根据id调用接口，获取分类数据的详细信息
3. 利用模板引擎将分类数据和HTML字符进行拼接，拼接完成以后将内容渲染到页面中
4. 为修改按钮添加点击事件，在事件处理函数中获取到管理员在表单中输入的内容，id存储在渲染修改分类表单的自定义属性
5. 调用修改分类数据接口，实现分类数据修改功能。



# 分类数据删除

1. 通过事件委托的方式为删除按钮添加点击事件，添加类名，在点击事件处理函数弹出删除确认框
2. 在用户点击了确认删除后，获取要删除的分类数据的id，id存储在渲染分类列表删除按钮的自定义属性。
3. 调用删除分类数据接口，实现删除分类数据功能，如果分类删除成功，刷新页面



# 添加文章

1. 获取文章分类数据，并将数据显示在所属分类的下拉列表中供管理员选择，文章所属分类id存储在value属性
2. 实现文章封面图片的上传，并将上传后的图片地址保存在一个隐藏域中
3. 为添加文章表单中的每一个表单项添加name属性，并且name属性值要和接口中要求的参数名称保持一致
4. 为添加文章表单绑定表单提交事件，在事件处理函数中阻止表单默认提交的行为
5. 获取到管理员在表单中输入的内容
6. 向服务器端发送添加文章的请求，实现文章添加功能，文章添加成功以后要跳转到文章列表页面



# 文章列表数据展示

1. 在页面一上来的时候向服务器端发送请求索要文章列表数据
2. 通过模板引擎将文章列表数据和HTML进行拼接，拼接完成以后将内容显示在页面中
3. 根据分页数据实现列表数据分页功能，阻止a链接默认跳转，为a标签添加点击事件函数



# 文章数据列表筛选

1. 向服务器端发送请求，索要文章分类数据，并将数据显示在所属分类的下来列表中
2. 为筛选按钮添加点击事件，在事件处理函数中获取到用户选择到的内容
3. 向服务器端发送请求，索要管理员要求的文章列表数据，并将数据显示在页面中



# 文章编辑

1. 为编辑按钮添加链接，并将文章id作为链接的查询参数传递到文章编辑页面
2. 在文章编辑页面获取地址栏中的id参数
3. 根据id获取文章详细信息，并将文章信息显示在文章编辑表单中，根据地址栏是否有Id参数来判断当前是添加操作还是修改操作，从地址栏获取查询参数封装成一个函数。
4. 为修改文章表单绑定表单提交事件，在事件处理函数中阻止表单默认提交的行为
5. 获取到用户在表单中输入的内容，表单提交事件用事件委托，id存储在渲染表单的自定义属性
6. 向服务器端发送请求，实现修改文章信息功能，如果文章信息修改成功，跳转到文章列表页面



# 文章删除

1. 通过事件委托为删除按钮添加点击事件，在事件处理函数中弹出一个删除确认框，跟管理员确认删除操作
2. 在事件处理函数中获取要要删除的文章的id ，id存储在删除按钮的自定义属性
3. 发送Ajax请求，执行删除操作，删除操作成功，刷新页面



# 评论列表展示

1. 向服务器端发送请求，获取评论列表数据
2. 使用模板引擎将评论列表数据和HTML模板进行拼接，拼接完成以后再将内容展示在页面中
3. 根据分页数据实现分页功能，阻止a链接默认跳转，为a标签添加点击事件函数



# 评论审核

1. 根据当前评论的状态更改审核按钮中的文字。如果当前评论是未审核状态，按钮中显示批准，如果当前评论是已审核状态，按钮中显示驳回，为a标签添加类名，阻止a链接默认跳转
2. 通过事件委托的方式为审核按钮添加点击事件，在事件处理函数中获取到当前评论的状态，评论状态和当前评论Id存储在审核按钮的自定义属性data-status，data-id
3. 向服务器端发送请求，告诉服务器端评论要更改为什么状态，如果修改成功，刷新页面，让页面中显示最新的数据



# 评论删除

1. 通过事件委托的方式为删除按钮添加点击事件，在事件处理函数中弹出删除确认框，为删除按钮添加类名
2. 获取到管理员要删除的评论id值，当前评论Id存储删除按钮自定义属性
3. 向服务器端发送请求，执行删除评论操作，评论如果删除成功，刷新页面



# 图片轮播数据添加

1. 实现图片上传功能，并且将上传后的图片地址保存在一个隐藏域中
2. 为图片轮播表单中的每一个表单项添加name属性，name属性的值要和接口中要求的参数名称保持一致
3. 为图片轮播表单绑定表单提交事件，在事件处理函数中阻止表单默认提交的行为
4. 获取到管理员在表单中输入的内容
5. 向服务器端发送请求，实现图片轮播数据添加功能，如果数据添加成功，刷新页面



# 轮播图数据展示

1. 向服务器端发送请求索要图片轮播列表数据
2. 使用模板引擎将图片轮播列表数据和HTML模板进行拼接，拼接完成以后将内容展示在页面中



# 图片轮播数据删除

1. 通过事件委托的方式为删除按钮添加点击事件，为删除按钮添加类名
2. 在事件处理函数中弹出删除确认框
3. 获取到要删除的轮播图数据的id，id存储在渲染轮播图列表的删除按钮自定义属性
4. 向服务器端发送请求，执行删除操作，删除操作成功，刷新页面



# 网站设置

1. 实现网站logo图片的上传，并且将上传后的图片地址保存在一个隐藏域中，将上传后的logo图片实时显示
2. 为表单中的每一个表单项添加name属性，name属性的值要和接口文档中要求的参数名称保持一致，为复选框添加value
3. 为表单绑定提交事件，在事件处理函数中阻止表单默认提交的行为
4. 获取到管理员在表单中输入的内容
5. 向服务器端发送请求，实现网站设置数据的添加功能



# 显示网站设置数据

1. 向服务器端发送请求，获取网站设置数据
2. 判断服务器端返回的数据是否为真，如果为真，将数据展示在表单中



# 展示登录用户信息

1. 根据userId变量的值，向服务器端获取当前登录用户的信息，写在公共文件里，在各个后台页面引入这个公共文件
2. 将用户信息显示在页面的左侧



# 轮播图数据展示

1. 向服务器端发送请求索要轮播图数据
2. 使用模板引擎将数据和HTML字符串进行拼接，将拼接好的内容显示在页面中
3. 将原有的实现轮播图效果的JavaScript代码挪到ajax方法的success函数的最后面



# 热门推荐

1. 向服务器端发送请求，索要热门推荐数据

2. 使用模板引擎将数据和html模板进行拼接，将拼接好的内容显示在页面中

3. 这个功能首页和详情要用，创建一个属于他俩♂的公共文件写在里面，然后引入

   ```javascript
   var str = '<div>{{name}}</div>';
   var obj = {name: '张三'}
   var html = template.render(str, obj);
   ```


# 最新发布

1. 在页面一上来的时候向服务器端发送请求索要最新发布数据

2. 使用模板引擎将数据和html模板进行拼接，将拼接好的内容显示在页面中

   ​

# 随机推荐

1. 在页面一上来的时候向服务器端发送请求索要随机推荐数据

2. 使用模板引擎将数据和html模板进行拼接，将拼接好的内容显示在页面中

3. 这个功能首页和文章列表页，文章详情页详情要用，创建一个属于他仨♂的公共文件写在里面，然后引入

   ​

# 最新评论

1. 在页面一上来的时候向服务器端发送请求索要最新评论数据
2. 使用模板引擎将数据和html模板进行拼接，将拼接好的内容显示在页面中

# 网站导航

1. 在页面一上来的时候向服务器端发送请求索要文章分类列表数据
2. 使用模板引擎将数据和导航的html模板进行拼接，将拼接好的内容显示在页面中（正常页面和缩小页面）

# 文章分类列表页面

1. 在页面一上来的时候获取地址栏的Id参数，向服务器端发送请求索要文章分类列表数据，根据分类id查询文章列表
2. 使用模板引擎将文章列表数据和html模板进行拼接，将拼接好的内容显示在页面中


# 文章详情页

1. 在页面一上来的时候获取地址栏的Id参数，向服务器端发送请求索要文章分类列表数据，根据分类id查询文章详细信息
2. 使用模板引擎将文章列表数据和html模板进行拼接，将拼接好的内容显示在页面中

# 文章点赞

通过事件委托的方式为点赞按钮添加点击事件，向服务器端发送请求，请求成功提示用户点赞成功。


# 搜索

1. 为搜索表单绑定表单提交事件，搜索功能写在公共文件中
2. 在事件处理函数中阻止表单默认提交行为并且获取到用户输入的搜索关键字
3. 跳转到搜索结果页面并且将用户输入的搜索关键字传递到搜索结果页面，搜索结果页面就是文章列表页面，把文章列表页面复制一份当成搜索结果页面
4. 在搜索结果页面中，从地址栏的查询参数中获取到用户输入的关键字
5. 根据用户输入的搜索关键字调用搜索接口，当服务器端返回数据以后，将搜索结果数据和HTML模板进行拼接，最终将拼接好的内容展示在页面中




# 文章评论

1. 用户登录成功才能进行评论
2. 页面一上来获取网站配置信息，读取管理员是否开启评论功能，如果开启渲染评论模板，没有则不渲染
3. 通过事件委托的方式为评论表单绑定表单提交事件，阻止表单默认提交行为，获取到用户在文本域中输入的内容
4. 用户提交评论时，从网站配置信息中读取评论是否要经过人工审核，如果需要将评论状态设置成未审核，否则已审核
5. 向服务器端发送创建文章评论的请求，执行添加评论操作
6. 评论成功提示用户，刷新页面

# 网站logo图切换

向服务器端发送请求，获取网站设置信息，请求成功替换logo图。












